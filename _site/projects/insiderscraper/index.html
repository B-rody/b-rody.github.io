<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>InsiderScraper - Brody Schulke</title>
<meta name="description" content="AI systems, creative automation, and indie product development.">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Brody Schulke">
<meta property="og:title" content="InsiderScraper">
<meta property="og:url" content="http://localhost:4000/projects/insiderscraper/">


  <meta property="og:description" content="AI systems, creative automation, and indie product development.">












<link rel="canonical" href="http://localhost:4000/projects/insiderscraper/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Brody Schulke Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <script type="module">
    Array.from(document.getElementsByClassName("language-mermaid")).forEach(element => {
      element.classList.add("mermaid");
    });
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
</script>
  </head>

  <body class="layout--single wide" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Brody Schulke
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/"
                
                
              >Home</a>
            </li><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/projects/"
                
                
              >Projects</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url"></a>
    </h3>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      <nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      
      
        <li>
          
            <a href="/projects/assetforge/"><span class="nav__sub-title">AssetForge</span></a>
          

          
        </li>
      
        <li>
          
            <a href="/projects/insiderscraper/"><span class="nav__sub-title">InsiderScraper</span></a>
          

          
        </li>
      
        <li>
          
            <a href="/projects/shipped-3d-game/"><span class="nav__sub-title">Shipped 3D Game</span></a>
          

          
        </li>
      
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="InsiderScraper">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="http://localhost:4000/projects/insiderscraper/" itemprop="url">InsiderScraper
</a>
          </h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p><a href="https://github.com/B-rody/InsiderScraper" target="_blank" class="btn btn--info"><i class="fab fa-github"></i> View on GitHub</a></p>

<h2 id="summary">Summary</h2>
<p>InsiderScraper is a web application that surfaces recent insider stock purchase filings from the SEC EDGAR database in a clean, filterable interface. Instead of manually navigating through dense SEC filing archives, users get a rolling 30-day view of insider common stock purchases aggregated by company, with real-time filtering by symbol, share count, transaction value, and buyer metrics.</p>

<p>I built it as a hands-on way to learn Angular’s single-page application architecture and gain experience orchestrating automated data pipelines in Azure’s serverless ecosystem.</p>

<h2 id="role--scope">Role &amp; Scope</h2>
<p>I designed and implemented the entire system from concept to deployment, including the data scraping pipeline, cloud automation workflow, database schema, and frontend interface. This was a solo project built to explore Angular’s component model, Azure’s serverless offerings, and real-world ETL challenges like incremental updates and data hygiene.</p>

<h2 id="system-overview">System Overview</h2>
<p>The system runs as an Angular 12 single-page application (TypeScript, Angular Material, Tailwind CSS) that loads data from a static JSON file, backed by a fully automated Azure cloud pipeline that updates this data daily. The backend orchestrates scheduled scraping, parsing, and database updates without manual intervention.</p>

<p>The automation pipeline consists of four Azure services working in sequence:</p>

<ul>
  <li><strong>Azure Automation</strong>: Three runbooks coordinate the workflow — one starts the Linux VM on schedule, another invokes the scraper script via SSH and webhook, and the third stops the VM after processing completes or times out after 3 hours.</li>
  <li><strong>Azure VM (Linux)</strong>: Hosts the Python scraper that pulls compressed <code class="language-plaintext highlighter-rouge">.tar.gz</code> feeds from SEC EDGAR, extracts Form 4 XML filings, parses insider purchase transactions (transaction code “P”), filters for direct ownership (ownership nature “D”), and merges new data with existing records in Cosmos DB while pruning entries older than 30 days.</li>
  <li><strong>Azure Function</strong>: Blob storage trigger that monitors scraper logs. When errors are detected, it invokes the VM shutdown webhook to clean up resources.</li>
  <li><strong>Cosmos DB</strong>: NoSQL database storing two containers — <code class="language-plaintext highlighter-rouge">dailyinsiderdata</code> for the latest scrape and <code class="language-plaintext highlighter-rouge">insiderdata</code> for the rolling 30-day aggregated dataset.</li>
</ul>

<p>The scraper handles incremental updates intelligently: it merges new transactions by matching company symbols and insider CIKs (unique SEC identifiers), updates aggregate metrics (total shares, total value, buyer count), and deletes stale entries based on transaction date. The Python script includes retry logic with 60-second delays for SEC API failures (up to 4 attempts) and logs every step to blob storage for monitoring.</p>

<p>Here’s a high-level view of the architecture and flow</p>

<pre><code class="language-mermaid">graph TB
    subgraph "Azure Cloud Pipeline"
        AA[Azure Automation&lt;br/&gt;Runbooks]
        VM[Azure VM&lt;br/&gt;Linux]
        BS[Blob Storage&lt;br/&gt;Logs]
        AF[Azure Function&lt;br/&gt;Log Monitor]
        DB[(Cosmos DB&lt;br/&gt;dailyinsiderdata&lt;br/&gt;insiderdata)]
    end
    
    subgraph "External"
        SEC[SEC EDGAR API&lt;br/&gt;.tar.gz feeds]
    end
    
    subgraph "Frontend"
        SPA[Angular SPA&lt;br/&gt;TypeScript + Material + Tailwind]
        JSON[Static JSON File&lt;br/&gt;assets/jsonData.json]
    end
    
    AA --&gt;|1. Start VM&lt;br/&gt;Scheduled| VM
    AA --&gt;|2. Invoke Scraper&lt;br/&gt;SSH + Webhook| VM
    VM --&gt;|3. Request Form 4&lt;br/&gt;XML Filings| SEC
    SEC --&gt;|4. Return Data| VM
    VM --&gt;|5. Parse &amp; Merge&lt;br/&gt;Filter + Aggregate| DB
    VM --&gt;|6. Upload Logs| BS
    BS --&gt;|7. Trigger on&lt;br/&gt;Blob Upload| AF
    AF --&gt;|8. Shutdown VM&lt;br/&gt;Webhook| AA
    DB -.-&gt;|Data Export&lt;br/&gt;to Static File| JSON
    JSON --&gt;|Load on&lt;br/&gt;Page Init| SPA
    
    style AA fill:#0078d4,stroke:#005a9e,color:#fff
    style VM fill:#0078d4,stroke:#005a9e,color:#fff
    style AF fill:#0078d4,stroke:#005a9e,color:#fff
    style DB fill:#0078d4,stroke:#005a9e,color:#fff
    style BS fill:#0078d4,stroke:#005a9e,color:#fff
    style SEC fill:#e8e8e8,stroke:#999
    style SPA fill:#dd0031,stroke:#b3002a,color:#fff
    style JSON fill:#ffc107,stroke:#ff9800
</code></pre>

<p>The frontend provides two primary views: a <strong>Symbol Data</strong> view that aggregates all transactions by ticker with expandable trader details, and a <strong>Transaction Data</strong> view showing individual purchase records in a sortable, filterable table. Users can filter by symbol, minimum share count, transaction value, number of buyers, or transaction date, with results updating dynamically via Angular’s reactive programming model using RxJS observables. The frontend loads data from a static JSON file bundled with the application.</p>

<h2 id="interface-walkthrough">Interface Walkthrough</h2>

<p><strong>Symbol filtering and aggregated view:</strong></p>

<video width="100%" controls="" style="max-width: 800px; margin: 2rem auto; display: block; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
  <source src="https://user-images.githubusercontent.com/44855384/190001886-a54d932c-bde8-4f17-9f7f-c7c5817a6084.mp4" type="video/mp4" />
  Your browser does not support the video tag.
</video>
<p style="text-align: center; font-size: 0.9em; color: #666; margin-top: 0.5rem;">Filtering by ticker symbol and expanding to view individual insider details</p>

<p><strong>Drilling into aggregated symbol data:</strong></p>

<video width="100%" controls="" style="max-width: 800px; margin: 2rem auto; display: block; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
  <source src="https://user-images.githubusercontent.com/44855384/190002079-d279493a-58ea-40f1-bad4-ed7937174b8f.mp4" type="video/mp4" />
  Your browser does not support the video tag.
</video>
<p style="text-align: center; font-size: 0.9em; color: #666; margin-top: 0.5rem;">Exploring transaction details within a single symbol</p>

<p><strong>Transaction-level filtering and sorting:</strong></p>

<p>The navigation header provides access to the raw Transaction Data view, where users can filter and sort individual purchase records by symbol, share count, transaction value, or date.</p>

<video width="100%" controls="" style="max-width: 800px; margin: 2rem auto; display: block; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
  <source src="https://user-images.githubusercontent.com/44855384/190002716-30d4031f-bf0f-4d25-939b-2608907933fb.mp4" type="video/mp4" />
  Your browser does not support the video tag.
</video>
<p style="text-align: center; font-size: 0.9em; color: #666; margin-top: 0.5rem;">Filtering and sorting raw transaction records</p>

<h2 id="key-challenges">Key Challenges</h2>
<ul>
  <li><strong>XML parsing consistency:</strong> SEC Form 4 filings have inconsistent structures — some lack price data, others use indirect ownership flags. I added defensive parsing with null checks and explicit filtering for transaction code “P” (purchase) and ownership nature “D” (direct) to ensure only relevant data made it through.</li>
  <li><strong>Incremental data merging:</strong> Daily scrapes needed to merge with existing data without duplicating entries or losing historical context. I implemented a merge strategy that matches by symbol and insider CIK, updates aggregate metrics, and prunes entries older than 30 days, ensuring the database stays current without manual intervention.</li>
  <li><strong>Error recovery and monitoring:</strong> API failures, malformed XML, or database connection issues could silently break the pipeline. I added structured logging to blob storage, retry logic with 60-second delays for SEC requests (up to 4 attempts), and an Azure Function that scans logs for error patterns and triggers VM shutdown via webhook when processing completes or errors are detected.</li>
  <li><strong>Scheduled orchestration:</strong> Coordinating VM startup, script execution, and shutdown without leaving resources running required webhook-based communication between runbooks and a fallback scheduled shutdown 3 hours after VM start to handle webhook failures.</li>
</ul>

<h2 id="outcomes">Outcomes</h2>
<p>The final system runs fully automated daily scrapes at scheduled intervals, processing hundreds of SEC filings and updating Cosmos DB without manual intervention.</p>

<p>Users can explore 30 days of insider purchase activity in seconds, filtering down from thousands of transactions to targeted subsets (e.g., “show me symbols with 5+ buyers purchasing $1M+ in shares”). The filtering and sorting UI responds instantly since all data is client-side, loaded from a static JSON file on page load.</p>

<p>Building InsiderScraper taught me a lot about Azure’s serverless ecosystem (Functions, Automation, Cosmos DB), Python-based ETL pipelines with incremental updates, Angular’s component architecture and reactive data patterns, XML parsing and data hygiene challenges in real-world datasets, and cloud orchestration patterns for scheduled, event-driven workflows.</p>

<h2 id="what-this-project-highlights">What This Project Highlights</h2>
<ul>
  <li>Automated cloud pipeline design (Azure Automation, Functions, VM orchestration)</li>
  <li>Python ETL scripting (SEC EDGAR API, XML parsing, incremental merging)</li>
  <li>Azure Cosmos DB data modeling (NoSQL schema, partition keys, upsert patterns)</li>
  <li>Angular single-page application (TypeScript, RxJS, reactive data binding)</li>
  <li>Angular Material + Tailwind CSS (responsive filtering UI, sortable tables)</li>
  <li>Error monitoring and alerting (blob triggers, SMS notifications, structured logging)</li>
  <li>Real-world data challenges (inconsistent XML, date-based pruning, deduplication)</li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        


        

      </footer>

      

      

    </div>

    
  </article>

  
  
</div>

      
    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2025 <a href="http://localhost:4000">Brody Schulke</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>









  </body>
</html>
